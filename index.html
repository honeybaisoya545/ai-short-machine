<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Shorts Machine</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0f172a;
      color: white;
      text-align: center;
      padding: 50px;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    button {
      background: #10b981;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      margin: 10px;
    }
    input {
      padding: 10px;
      width: 70%;
      border-radius: 8px;
      border: none;
      margin: 10px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      background: #1e293b;
      margin: 5px auto;
      padding: 10px;
      border-radius: 8px;
      max-width: 600px;
      text-align: left;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🤖 AI Shorts Machine</h1>
    <p>Add any video link. AI will make shorts automatically.</p>
    
    <input type="text" id="channelLink" placeholder="Paste YouTube, Facebook, TikTok link"/>
    <button onclick="addChannel()">Add Channel</button>

    <button onclick="toggleMachine()">AI Machine: OFF</button>

    <h2>Your Channels</h2>
    <ul id="channelList"></ul>
  </div>

  <script>
    function addChannel() {
      const link = document.getElementById("channelLink").value.trim();
      if (!link) return alert("Please enter a link");

      let platform = "Other";
      let icon = "🌐";

      if (link.includes("youtube.com") || link.includes("youtu.be")) {
        platform = "YouTube";
        icon = "📺";
      } else if (link.includes("facebook.com")) {
        platform = "Facebook";
        icon = "📘";
      } else if (link.includes("tiktok.com")) {
        platform = "TikTok";
        icon = "🎵";
      }

      const list = document.getElementById("channelList");
      const li = document.createElement("li");
      li.innerHTML = `<strong>${icon} ${platform}</strong>: ${link.substring(0, 40)}...`;
      list.appendChild(li);
      document.getElementById("channelLink").value = "";
    }

   // YouTube API Integration
let isMachineOn = false;
let youtubeApiKey = "AIzaSyCi1owTgpghGwR6a4sztcYNFXZg7EDNjos"; // Your real API key

function toggleMachine() {
  isMachineOn = !isMachineOn;
  const button = document.querySelector('button[onclick="toggleMachine()"]');
  
  if (isMachineOn) {
    button.textContent = "AI Machine: ON";
    button.style.background = "#10b981";
    startCheckingVideos();
  } else {
    button.textContent = "AI Machine: OFF";
    button.style.background = "#10b981";
  }
}

function startCheckingVideos() {
  if (!isMachineOn) return;
  
  alert("🤖 AI Machine is now checking for new videos...");
  
  // Example: Check CarryMinati's channel
  checkNewVideo("UCXRlZiA3R9cFv6au5Tq78Rw");
}

async function checkNewVideo(channelId) {
  try {
    const response = await fetch(
      `https://www.googleapis.com/youtube/v3/search?order=date&part=snippet&channelId=${channelId}&maxResults=1&key=${youtubeApiKey}`
    );
    const data = await response.json();
    
    if (data.items && data.items.length > 0) {
      const video = data.items[0];
      const title = video.snippet.title;
      alert(`🆕 New video detected!\nTitle: ${title}`);
    } else {
      alert("No new videos found.");
    }
  } catch (error) {
    alert("Error checking for videos. Make sure API key is correct.");
  }
}
  </script>
</body>
</html>
